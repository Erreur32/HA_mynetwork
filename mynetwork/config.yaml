name: "MynetworK"
slug: "mynetwork"
version: "0.0.7"
description: "Multi-source network dashboard (Freebox, UniFi, network scan) for Home Assistant"
arch:
  - amd64
  - aarch64
  - armv7
  # - armhf  # optional if linux/arm/v6 image is published

# Protected mode toggle in UI (admin = only role that can disable protection). User must disable it for NET_RAW/NET_ADMIN.
hassio_api: true
hassio_role: admin

startup: application
init: false

ingress: true
ingress_port: 3000
ingress_entry: /
panel_title: "MynetworK"
panel_icon: "mdi:network"
panel_admin: false

watchdog: "http://[HOST]:[PORT:3000]/api/health"

privileged:
  - NET_RAW
  - NET_ADMIN

# host_network: true  # enable only if network scan is incomplete (see docs)

# Supervisor data volume at /data so /app (image content: server/, node_modules/) is never overwritten by the mount.
# run.sh reads options from /data/options.json and sets DATABASE_PATH, CONFIG_FILE_PATH, FREEBOX_TOKEN_FILE to /data/...
map:
  - type: data
    path: /data
    read_only: false

options:
  log_level: "info"
  jwt_secret: ""
  default_admin_username: "admin"
  default_admin_password: ""
  default_admin_email: "admin@localhost"
  freebox_host: ""
schema:
  log_level: list(debug|info|warning|error)
  jwt_secret: password
  default_admin_username: str
  default_admin_password: password
  default_admin_email: str
  freebox_host: str?
