import{k as Se,u as _e,l as Me,m as De,n as ke,g as $e,j as e,o as N,p as J}from"./index-D769t3SB.js";import{R as f,r as B,c as A,A as Te,C as D,X as k,Y as $,T as S,L as Q,d as ee,e as Pe,f as se,P as ze,g as Ue,h as te,B as ae,i as re}from"./vendor-charts-fy94SsLU.js";import{af as He,h as Re,f as v,a4 as T,W as G,S as le,T as qe,D as ie,B as ne,Z as de,e as ce,F as xe,H as L,z as Fe}from"./vendor-icons-Wr2_Nvt-.js";import"./vendor-D9iDNHsv.js";import"./vendor-state-CiM9n9np.js";const d={blue:"#3b82f6",green:"#10b981",cyan:"#06b6d4",orange:"#f97316",red:"#ef4444",purple:"#8b5cf6",pink:"#ec4899"},me=[d.blue,d.green,d.cyan,d.orange,d.purple,d.pink],Oe=({onBack:oe})=>{var X,Y,Z;const{status:l,history:P,extendedHistory:c,temperatureHistory:y,rrdPermissionDenied:x,fetchExtendedHistory:z,fetchTemperatureHistory:U}=Se(),{info:a,temperatureHistory:H}=_e(),{networks:p}=Me(),{devices:w}=De(),{getHistoryForDisplay:he}=ke(),{capabilities:R}=$e(),q=(s,t)=>{const r=t.replace(/^Température\s+/i,"").replace(/^Temperature\s+/i,"").trim();return{temp_cpu0:"CPU 0",temp_cpu1:"CPU 1",temp_cpu2:"CPU 2",temp_cpu3:"CPU 3",temp_cpum:"CPU",temp_cpub:"CPU Box",temp_sw:"Switch",temp_hdd:"Disque",temp_hdd0:"Disque 1",temp_hdd1:"Disque 2"}[s]||r||s},pe=()=>{if(!a)return[];if(a.sensors&&Array.isArray(a.sensors))return a.sensors.filter(t=>t.id.startsWith("temp_cpu")||t.id.startsWith("cpu")).map(t=>({...t,name:q(t.id,t.name)})).sort((t,r)=>t.id.localeCompare(r.id));const s=[];return a.temp_cpu0!=null&&s.push({id:"temp_cpu0",name:"CPU 0",value:a.temp_cpu0}),a.temp_cpu1!=null&&s.push({id:"temp_cpu1",name:"CPU 1",value:a.temp_cpu1}),a.temp_cpu2!=null&&s.push({id:"temp_cpu2",name:"CPU 2",value:a.temp_cpu2}),a.temp_cpu3!=null&&s.push({id:"temp_cpu3",name:"CPU 3",value:a.temp_cpu3}),a.temp_cpum!=null&&s.push({id:"temp_cpum",name:"CPU",value:a.temp_cpum}),a.temp_cpub!=null&&s.push({id:"temp_cpub",name:"CPU Box",value:a.temp_cpub}),s.sort((t,r)=>t.id.localeCompare(r.id))},ge=()=>a?a.sensors&&Array.isArray(a.sensors)?a.sensors.filter(s=>s.id.startsWith("temp_hdd")||s.id.includes("disk")).map(s=>({...s,name:q(s.id,s.name)})).sort((s,t)=>s.id.localeCompare(t.id)):[]:[],ue=()=>{if(!a)return[];if(a.sensors&&Array.isArray(a.sensors))return a.sensors.filter(t=>!t.id.startsWith("temp_cpu")&&!t.id.startsWith("cpu")&&!t.id.startsWith("temp_hdd")&&!t.id.includes("disk")).map(t=>({...t,name:q(t.id,t.name)})).sort((t,r)=>t.id.localeCompare(r.id));const s=[];return a.temp_sw!=null&&s.push({id:"temp_sw",name:"Switch",value:a.temp_sw}),s},be=(s,t)=>({fan0_speed:"Ventilateur 1",fan1_speed:"Ventilateur 2",fan0:"Ventilateur 1",fan1:"Ventilateur 2",main:"Ventilateur",fan:"Ventilateur",fan_rpm:"Ventilateur"})[s]||t||s,je=()=>a?a.fans&&Array.isArray(a.fans)?a.fans.map(s=>({...s,name:be(s.id,s.name)})).sort((s,t)=>s.id.localeCompare(t.id)):a.fan_rpm!=null?[{id:"fan_rpm",name:"Ventilateur",value:a.fan_rpm}]:[]:[],W=s=>{if(s.length===0)return null;const t=s.reduce((r,i)=>r+i.value,0)/s.length;return Math.round(t)},Ne=s=>{if(s.length===0)return null;const t=s.reduce((r,i)=>r+i.value,0)/s.length;return Math.round(t)},m=pe(),o=ge(),O=ue(),h=je(),g=W(m),_=W(o),F=Ne(h),u=he(),fe=f.useMemo(()=>{if(!u.length)return 100;const s=u.filter(t=>t.status==="up").length;return Math.round(s/u.length*100)},[u]),[C,ve]=B.useState("bandwidth"),[b,ye]=B.useState("1h");B.useEffect(()=>{const s={"1h":3600,"6h":21600,"24h":86400,"7d":604800};z(s[b]),U(s[b]);const t=setInterval(()=>{z(s[b]),U(s[b])},3e4);return()=>clearInterval(t)},[b,z,U]);const M=f.useMemo(()=>{if(!c.length)return{avgDown:0,avgUp:0,maxDown:0,maxUp:0,totalDown:0,totalUp:0};const s=c.reduce((n,j)=>n+j.download,0),t=c.reduce((n,j)=>n+j.upload,0),r=Math.max(...c.map(n=>n.download)),i=Math.max(...c.map(n=>n.upload));return{avgDown:Math.round(s/c.length),avgUp:Math.round(t/c.length),maxDown:r,maxUp:i,totalDown:s,totalUp:t}},[c]),K=f.useMemo(()=>{const s=y.length?y:H;if(!s.length)return{avgCpu:0,maxCpu:0,avgSw:0,maxSw:0};const t=s.map(i=>i.cpuM||0).filter(i=>i>0),r=s.map(i=>i.sw||0).filter(i=>i>0);return{avgCpu:t.length?Math.round(t.reduce((i,n)=>i+n,0)/t.length):0,maxCpu:t.length?Math.max(...t):0,avgSw:r.length?Math.round(r.reduce((i,n)=>i+n,0)/r.length):0,maxSw:r.length?Math.max(...r):0}},[y,H]),we=f.useMemo(()=>{const s={};return w.forEach(t=>{const r=t.type||"other",n={phone:"Téléphone",tablet:"Tablette",laptop:"Ordinateur portable",desktop:"Ordinateur",tv:"TV/Multimédia",car:"Voiture",repeater:"Répéteur",iot:"IoT",other:"Autre"}[r]||"Autre";s[n]=(s[n]||0)+1}),Object.entries(s).map(([t,r])=>({name:t,value:r}))},[w]),V=f.useMemo(()=>p.map(s=>({name:s.band,value:s.connectedDevices,ssid:s.ssid})),[p]),I=f.useMemo(()=>u.slice(-30).map((s,t)=>({day:t+1,uptime:s.status==="up"?100:s.status==="down"?0:50,status:s.status})),[u]),E=s=>{const t=s*8;if(t===0)return"0 kb/s";const r=1e3,i=["kb/s","Mb/s","Gb/s"];if(t<r)return`${Math.round(t)} kb/s`;const n=Math.floor(Math.log(t)/Math.log(r)),j=t/Math.pow(r,n),Ae=j<10?1:0;return`${j.toFixed(Ae)} ${i[Math.min(n,i.length-1)]}`},Ce=[{id:"bandwidth",label:"Bande passante",icon:v},{id:"temperature",label:"Température",icon:T},{id:"wifi",label:"WiFi",icon:G},{id:"system",label:"Système",icon:le}];return e.jsxs("div",{className:"min-h-screen bg-[#050505] text-gray-300",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-[#0a0a0a]/95 backdrop-blur-sm border-b border-gray-800",children:e.jsx("div",{className:"max-w-[1920px] mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:oe,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(He,{size:24})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(Re,{size:24,className:"text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Analytique"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Statistiques et graphiques détaillés"})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 bg-[#1a1a1a] rounded-lg p-1",children:["1h","6h","24h","7d"].map(s=>e.jsx("button",{onClick:()=>ye(s),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${b===s?"bg-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:s},s))})]})})}),e.jsxs("div",{className:"p-4 md:p-6 max-w-[1920px] mx-auto space-y-6",children:[e.jsx("div",{className:"flex gap-2 border-b border-gray-800 pb-2",children:Ce.map(s=>e.jsxs("button",{onClick:()=>ve(s.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg transition-colors ${C===s.id?"bg-[#1a1a1a] text-white border-b-2 border-blue-500":"text-gray-500 hover:text-gray-300"}`,children:[e.jsx(s.icon,{className:"w-4 h-4"}),e.jsx("span",{children:s.label})]},s.id))}),C==="bandwidth"&&e.jsxs("div",{className:"space-y-6",children:[x&&e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(qe,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-orange-500 font-semibold",children:"Permission insuffisante"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["La permission ",e.jsx("span",{className:"text-white font-medium",children:'"Modification des réglages de la Freebox"'})," est nécessaire pour afficher les statistiques moyennes et maximales des débits."]}),e.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Allez dans Freebox OS → Paramètres → Gestion des accès → Applications → Sélectionnez cette application et activez la permission."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`bg-[#121212] rounded-xl p-4 border border-gray-800 ${x?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(ie,{className:"w-4 h-4 text-blue-500"}),"Débit moyen ↓"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:x?"N/A":N(M.avgDown*1024)})]}),e.jsxs("div",{className:`bg-[#121212] rounded-xl p-4 border border-gray-800 ${x?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-500"}),"Débit moyen ↑"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:x?"N/A":N(M.avgUp*1024)})]}),e.jsxs("div",{className:`bg-[#121212] rounded-xl p-4 border border-gray-800 ${x?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(de,{className:"w-4 h-4 text-blue-500"}),"Débit max ↓"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:x?"N/A":N(M.maxDown*1024)})]}),e.jsxs("div",{className:`bg-[#121212] rounded-xl p-4 border border-gray-800 ${x?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(de,{className:"w-4 h-4 text-green-500"}),"Débit max ↑"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:x?"N/A":N(M.maxUp*1024)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-400",children:"Débit actuel descendant"}),e.jsx(ie,{className:"w-5 h-5 text-blue-500"})]}),e.jsx("div",{className:"text-4xl font-bold text-blue-500",children:l?N(l.rate_down):"0 bps"}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Bande passante: ",l?J(l.bandwidth_down):"N/A"]})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-400",children:"Débit actuel montant"}),e.jsx(ne,{className:"w-5 h-5 text-green-500"})]}),e.jsx("div",{className:"text-4xl font-bold text-green-500",children:l?N(l.rate_up):"0 bps"}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Bande passante: ",l?J(l.bandwidth_up):"N/A"]})]})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:c.length>0?"Historique bande passante":"Bande passante temps réel"}),e.jsx("span",{className:"text-xs text-gray-500",children:c.length>0?`${c.length} points (RRD)`:`${P.length} points (live)`})]}),e.jsx("div",{className:"h-80",children:c.length>0||P.length>0?e.jsx(A,{width:"100%",height:"100%",children:e.jsxs(Te,{data:c.length>0?c:P,children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(k,{dataKey:"time",stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:11},interval:"preserveStartEnd"}),e.jsx($,{stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:11},tickFormatter:s=>E(s).split(" ")[0]}),e.jsx(S,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#9ca3af"},formatter:(s,t,r)=>{const i=r.dataKey==="download"?"Descendant":"Montant",n=r.dataKey==="download"?d.blue:d.green;return[e.jsx("span",{style:{color:n},children:E(s)}),i]}}),e.jsx(Q,{}),e.jsx(ee,{type:"monotone",dataKey:"download",stackId:"1",stroke:d.blue,fill:d.blue,fillOpacity:.3,name:"Descendant"}),e.jsx(ee,{type:"monotone",dataKey:"upload",stackId:"2",stroke:d.green,fill:d.green,fillOpacity:.3,name:"Montant"})]})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[e.jsx(v,{className:"w-12 h-12 mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Collecte des données en cours..."}),e.jsx("p",{className:"text-xs mt-1",children:"Le graphique se remplira automatiquement"})]})})]})]}),C==="temperature"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(ce,{className:"w-4 h-4 text-orange-500"}),"CPU ",m.length>1?"(Moyenne)":""]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:g!=null?`${g}°C`:"N/A"}),m.length>1&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[m.length," capteurs"]})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(T,{className:"w-4 h-4 text-red-500"}),"CPU Max"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:m.length>0?`${Math.max(...m.map(s=>s.value))}°C`:"N/A"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Pic actuel"})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(xe,{className:"w-4 h-4 text-cyan-500"}),"Ventilateur ",h.length>1?"(Moyenne)":""]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:F!=null?`${F} T/min`:"N/A"}),h.length>1&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[h.length," ventilateurs"]})]}),o.length>0?e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(L,{className:"w-4 h-4 text-blue-500"}),"Disque ",o.length>1?"(Moyenne)":""]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:_!=null?`${_}°C`:"N/A"}),o.length>1&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[o.length," disques"]})]}):e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(T,{className:"w-4 h-4 text-purple-500"}),"T° Max historique"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:K.maxCpu>0?`${K.maxCpu}°C`:"N/A"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Sur la période"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[m.length>0&&e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-orange-500"}),"Températures CPU"]}),e.jsxs("div",{className:"space-y-3",children:[m.map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:s.name}),e.jsxs("span",{className:`font-semibold ${s.value>70?"text-red-500":s.value>50?"text-orange-500":"text-green-500"}`,children:[s.value,"°C"]})]},s.id)),e.jsx("div",{className:"pt-2 border-t border-gray-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Moyenne"}),e.jsxs("span",{className:"text-white font-semibold",children:[g,"°C"]})]})}),e.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${(g||0)>70?"bg-red-500":(g||0)>50?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(100,(g||0)/100*100)}%`}})})]})]}),h.length>0&&e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-cyan-500"}),"Ventilateurs"]}),e.jsxs("div",{className:"space-y-3",children:[h.map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:s.name}),e.jsxs("span",{className:"text-cyan-500 font-semibold",children:[s.value," T/min"]})]},s.id)),h.length>1&&e.jsx("div",{className:"pt-2 border-t border-gray-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Moyenne"}),e.jsxs("span",{className:"text-white font-semibold",children:[F," T/min"]})]})}),h.length===1&&m.length>2&&e.jsx("div",{className:"pt-4"})]})]}),o.length>0&&e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-blue-500"}),"Températures Disques"]}),e.jsxs("div",{className:"space-y-3",children:[o.map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:s.name}),e.jsxs("span",{className:`font-semibold ${s.value>50?"text-red-500":s.value>40?"text-orange-500":"text-blue-500"}`,children:[s.value,"°C"]})]},s.id)),o.length>1&&e.jsx("div",{className:"pt-2 border-t border-gray-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Moyenne"}),e.jsxs("span",{className:"text-white font-semibold",children:[_,"°C"]})]})}),e.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all",style:{width:`${Math.min(100,(_||0)/60*100)}%`}})})]})]}),O.length>0&&e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-purple-500"}),"Autres capteurs"]}),e.jsx("div",{className:"space-y-3",children:O.map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:s.name}),e.jsxs("span",{className:"text-purple-500 font-semibold",children:[s.value,"°C"]})]},s.id))})]})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Historique température"}),e.jsx("div",{className:"h-80",children:e.jsx(A,{width:"100%",height:"100%",children:e.jsxs(Pe,{data:y.length?y:H,children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(k,{dataKey:"time",stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:11},interval:"preserveStartEnd"}),e.jsx($,{stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:11},domain:[20,80],tickFormatter:s=>`${s}°`}),e.jsx(S,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#9ca3af"},formatter:(s,t)=>{const r={cpuM:"CPU (Moyenne)",sw:"Switch",hdd:"Disque"};return[`${s}°C`,r[t]||t]}}),e.jsx(Q,{}),e.jsx(se,{type:"monotone",dataKey:"cpuM",stroke:d.orange,name:"CPU (Moyenne)",dot:!1}),K.avgSw>0&&e.jsx(se,{type:"monotone",dataKey:"sw",stroke:d.cyan,name:"Switch",dot:!1})]})})})]})]}),C==="wifi"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-blue-500"}),"Appareils par bande WiFi"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-[#0a0a0a] rounded-lg p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"2.4 GHz"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:((X=p.find(s=>s.band==="2.4GHz"))==null?void 0:X.connectedDevices)||0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"appareils"})]}),e.jsxs("div",{className:"bg-[#0a0a0a] rounded-lg p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"5 GHz"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:((Y=p.find(s=>s.band==="5GHz"))==null?void 0:Y.connectedDevices)||0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"appareils"})]}),(R==null?void 0:R.wifi6ghz)&&e.jsxs("div",{className:"bg-[#0a0a0a] rounded-lg p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-cyan-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"6 GHz"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:((Z=p.find(s=>s.band==="6GHz"))==null?void 0:Z.connectedDevices)||0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"appareils"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((s,t)=>e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.band==="6GHz"?"bg-cyan-500/20":s.band==="5GHz"?"bg-blue-500/20":"bg-green-500/20"}`,children:e.jsx(G,{className:`w-5 h-5 ${s.band==="6GHz"?"text-cyan-500":s.band==="5GHz"?"text-blue-500":"text-green-500"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:s.ssid}),e.jsx("div",{className:"text-sm text-gray-500",children:s.band})]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${s.active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:s.active?"Actif":"Inactif"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Canal"}),e.jsx("div",{className:"text-white font-medium",children:s.channel||"Auto"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Largeur"}),e.jsxs("div",{className:"text-white font-medium",children:[s.channelWidth," MHz"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Appareils"}),e.jsx("div",{className:"text-white font-medium",children:s.connectedDevices})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Charge"}),e.jsxs("div",{className:"text-white font-medium",children:[s.load||0,"%"]})]})]})]},s.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Appareils par bande"}),e.jsx("div",{className:"h-64",children:e.jsx(A,{width:"100%",height:"100%",children:e.jsxs(ze,{children:[e.jsx(Ue,{data:V,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",label:({name:s,value:t})=>`${s}: ${t}`,children:V.map((s,t)=>e.jsx(te,{fill:me[t%me.length]},`cell-${t}`))}),e.jsx(S,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})})})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Types d'appareils"}),e.jsx("div",{className:"h-64",children:e.jsx(A,{width:"100%",height:"100%",children:e.jsxs(ae,{data:we.slice(0,6),layout:"vertical",children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(k,{type:"number",stroke:"#6b7280"}),e.jsx($,{dataKey:"name",type:"category",stroke:"#6b7280",width:80,tick:{fill:"#9ca3af",fontSize:11}}),e.jsx(S,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),e.jsx(re,{dataKey:"value",fill:d.blue,radius:[0,4,4,0]})]})})})]})]})]}),C==="system"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(le,{className:"w-4 h-4 text-blue-500"}),"Modèle"]}),e.jsx("div",{className:"text-lg font-bold text-white truncate",children:(a==null?void 0:a.board_name)||"Freebox"})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(L,{className:"w-4 h-4 text-green-500"}),"Firmware"]}),e.jsx("div",{className:"text-lg font-bold text-white",children:(a==null?void 0:a.firmware_version)||"N/A"})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-cyan-500"}),"Uptime"]}),e.jsx("div",{className:"text-lg font-bold text-white",children:(a==null?void 0:a.uptime)||"N/A"})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-orange-500"}),"Disponibilité"]}),e.jsxs("div",{className:"text-lg font-bold text-white",children:[fe,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Informations système"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Numéro de série"}),e.jsx("span",{className:"text-white font-mono",children:(a==null?void 0:a.serial)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Adresse MAC"}),e.jsx("span",{className:"text-white font-mono",children:(a==null?void 0:a.mac)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Disques"}),e.jsx("span",{className:"text-white",children:(a==null?void 0:a.disk_status)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Authentifié"}),e.jsx("span",{className:a!=null&&a.box_authenticated?"text-green-500":"text-red-500",children:a!=null&&a.box_authenticated?"Oui":"Non"})]})]})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"État du réseau"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"État connexion"}),e.jsx("span",{className:`font-semibold ${(l==null?void 0:l.state)==="up"?"text-green-500":"text-red-500"}`,children:(l==null?void 0:l.state)==="up"?"Connecté":(l==null?void 0:l.state)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Type"}),e.jsx("span",{className:"text-white",children:(l==null?void 0:l.type)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"IPv4"}),e.jsx("span",{className:"text-white font-mono",children:(l==null?void 0:l.ipv4)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"IPv6"}),e.jsx("span",{className:"text-white font-mono text-sm truncate max-w-48",children:(l==null?void 0:l.ipv6)||"N/A"})]})]})]})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Historique disponibilité (30 jours)"}),e.jsx("div",{className:"h-48",children:e.jsx(A,{width:"100%",height:"100%",children:e.jsxs(ae,{data:I,children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),e.jsx(k,{dataKey:"day",stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:10}}),e.jsx($,{stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:10},domain:[0,100],tickFormatter:s=>`${s}%`}),e.jsx(S,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#ffffff"},labelStyle:{color:"#9ca3af"},itemStyle:{color:"#ffffff"},formatter:s=>[`${s}%`,"Disponibilité"]}),e.jsx(re,{dataKey:"uptime",radius:[2,2,0,0],children:I.map((s,t)=>e.jsx(te,{fill:s.status==="up"?d.green:s.status==="down"?d.red:d.orange},`cell-${t}`))})]})})})]}),e.jsxs("div",{className:"bg-[#121212] rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Appareils connectés"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-[#1a1a1a] rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:w.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total"})]}),e.jsxs("div",{className:"text-center p-4 bg-[#1a1a1a] rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-500",children:w.filter(s=>s.active).length}),e.jsx("div",{className:"text-sm text-gray-500",children:"En ligne"})]}),e.jsxs("div",{className:"text-center p-4 bg-[#1a1a1a] rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-500",children:w.filter(s=>!s.active).length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Hors ligne"})]}),e.jsxs("div",{className:"text-center p-4 bg-[#1a1a1a] rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-500",children:p.reduce((s,t)=>s+t.connectedDevices,0)}),e.jsx("div",{className:"text-sm text-gray-500",children:"WiFi"})]})]})]})]})]})]})};export{Oe as AnalyticsPage};
