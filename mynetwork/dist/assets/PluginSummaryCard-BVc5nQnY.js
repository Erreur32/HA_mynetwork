import{q as oe,k as me,l as pe,b as he,u as ue,o as T,j as e,E as fe,H as ee,S as $,I as se}from"./index-D769t3SB.js";import"./vendor-charts-fy94SsLU.js";import{Y as te,a0 as ge,e as ye,H as be,F as je,W as ae,P as Ne,f as le,aT as ve}from"./vendor-icons-Wr2_Nvt-.js";const we=r=>{if(!r)return[];if(r.sensors&&Array.isArray(r.sensors))return r.sensors.filter(y=>y.id.startsWith("temp_cpu")).sort((y,z)=>y.id.localeCompare(z.id));const u=[];return r.temp_cpu0!=null&&u.push({id:"temp_cpu0",name:"CPU 0",value:r.temp_cpu0}),r.temp_cpu1!=null&&u.push({id:"temp_cpu1",name:"CPU 1",value:r.temp_cpu1}),r.temp_cpu2!=null&&u.push({id:"temp_cpu2",name:"CPU 2",value:r.temp_cpu2}),r.temp_cpu3!=null&&u.push({id:"temp_cpu3",name:"CPU 3",value:r.temp_cpu3}),r.temp_cpum!=null&&u.push({id:"temp_cpum",name:"CPU Main",value:r.temp_cpum}),r.temp_cpub!=null&&u.push({id:"temp_cpub",name:"CPU Box",value:r.temp_cpub}),r.temp_sw!=null&&u.push({id:"temp_sw",name:"Switch",value:r.temp_sw}),u.sort((y,z)=>y.id.localeCompare(z.id))},_e=r=>r?r.sensors&&Array.isArray(r.sensors)?r.sensors.filter(u=>u.id.startsWith("temp_hdd")||u.id.includes("disk")).sort((u,y)=>u.id.localeCompare(y.id)):[]:[],ne=r=>{if(r.length===0)return null;const u=r.reduce((y,z)=>y+z.value,0)/r.length;return Math.round(u)},ze=r=>r?r.fans&&Array.isArray(r.fans)?r.fans.sort((u,y)=>u.name.localeCompare(y.name)):r.fan_rpm!=null?[{id:"fan_rpm",name:"Ventilateur",value:r.fan_rpm}]:[]:[],Ce=r=>{if(r.length===0)return null;const u=r.reduce((y,z)=>y+z.value,0)/r.length;return Math.round(u)},ke=({pluginId:r,onViewDetails:u,hideController:y=!1,cardClassName:z,showDeviceTables:R=!1})=>{var Q,Z;const{plugins:re,pluginStats:ie}=oe(),{status:j,history:M}=me(),{networks:H}=pe(),{login:ce,isLoggedIn:L}=he(),{info:k}=ue(),C=re.find(s=>s.id===r),l=ie[r];if(!C)return null;const B=C.enabled&&C.connectionStatus,de=l&&(l.network||l.devices||l.system);let S=[],W=[],V=0,D=0,E,O,K,X=[],G,P,I,F=[];if(r==="unifi"&&l){const s=l.devices||[],i=s.filter(t=>t.type==="client");D=i.length,V=i.filter(t=>t.active!==!1).length,X=l.wlans||[];const a=t=>{const p=[];return t.radio_table&&Array.isArray(t.radio_table)&&t.radio_table.forEach(c=>{const o=c.radio||c.name||"";if(o){const d=o.toLowerCase();d.includes("ng")||d.includes("2.4")||d==="2g"?p.includes("2.4GHz")||p.push("2.4GHz"):d.includes("na")||d.includes("5")||d==="5g"?p.includes("5GHz")||p.push("5GHz"):(d.includes("6")||d==="6g")&&(p.includes("6GHz")||p.push("6GHz"))}}),p.length===0&&((t.radio_ng||t.radio_2g)&&p.push("2.4GHz"),(t.radio_na||t.radio_5g)&&p.push("5GHz"),t.radio_6g&&p.push("6GHz")),p.length>0?p:["N/A"]},m=t=>{var c,o,d,b,g,A;const p=[];if(t.radio_table&&Array.isArray(t.radio_table)&&t.radio_table.forEach(n=>{const x=n.radio||n.name||"",h=n.channel||n.ht||n.chan||null;if(x&&h!==null&&h!==void 0){let f="";const v=x.toLowerCase();v.includes("ng")||v.includes("2.4")||v==="2g"?f="2.4GHz":v.includes("na")||v.includes("5")||v==="5g"?f="5GHz":(v.includes("6")||v==="6g")&&(f="6GHz"),f&&!p.find(_=>_.band===f)&&p.push({band:f,channel:h})}}),p.length===0){if(t.radio_ng||t.radio_2g){const n=((c=t.radio_ng||t.radio_2g)==null?void 0:c.channel)||((o=t.radio_ng||t.radio_2g)==null?void 0:o.ht);n&&p.push({band:"2.4GHz",channel:n})}if(t.radio_na||t.radio_5g){const n=((d=t.radio_na||t.radio_5g)==null?void 0:d.channel)||((b=t.radio_na||t.radio_5g)==null?void 0:b.ht);n&&p.push({band:"5GHz",channel:n})}if(t.radio_6g){const n=((g=t.radio_6g)==null?void 0:g.channel)||((A=t.radio_6g)==null?void 0:A.ht);n&&p.push({band:"6GHz",channel:n})}}return p};S=s.filter(t=>(t.type||"").toString().toLowerCase().startsWith("uap")).map(t=>{const p=t.name||t.model||t.ip||"Borne Wi‑Fi",c=(t.mac||"").toString().toLowerCase(),o=i.filter(n=>{const x=n.last_uplink_name||n.uplink_name||"",h=n.last_uplink_mac||n.sw_mac||"";return x===p||h.toLowerCase()===c}),d=o.filter(n=>n.active!==!1).length,b=new Map;o.forEach(n=>{const x=(n.ssid||n.essid||"").toString();if(!x)return;let h="";const f=(n.radio||n.band||"").toString().toLowerCase(),v=n.channel||n.ht;if(f)f.includes("ng")||f.includes("2.4")||f==="2g"?h="2.4GHz":f.includes("na")||f.includes("5")||f==="5g"?h="5GHz":(f.includes("6")||f==="6g")&&(h="6GHz");else if(v){const _=typeof v=="number"?v:parseInt(String(v));isNaN(_)||(_>=1&&_<=14?h="2.4GHz":_>=36&&_<=165?h="5GHz":_>165&&_<=233&&(h="6GHz"))}if(!h){const _=a(t);h=_.length>0?_[0]:"2.4GHz"}b.has(x)||b.set(x,new Set),b.get(x).add(h)});const g=[];if(b.forEach((n,x)=>{n.forEach(h=>{g.push({ssid:x,band:h})})}),g.length===0){const n=a(t);X.filter(x=>x.enabled).forEach(x=>{const h=x.ssid||x.name;h&&n.forEach(f=>{g.push({ssid:h,band:f})})})}const A=["2.4GHz","5GHz","6GHz"];return g.sort((n,x)=>{const h=A.indexOf(n.band)-A.indexOf(x.band);return h!==0?h:n.ssid.localeCompare(x.ssid)}),{name:p,ip:t.ip,clientsActive:d,clientsTotal:o.length,bands:a(t),channels:m(t),ssids:g}}),W=s.filter(t=>(t.type||"").toString().toLowerCase().startsWith("usw")).map(t=>{const p=t.name||t.model||t.ip||"Switch",c=t.eth_port_table||t.port_table||t.ports||t.port_overrides||[],o=Array.isArray(c)?c:[];let d=0;o.length>0?d=o.length:typeof t.num_port=="number"&&t.num_port>0&&(d=t.num_port);const b=o.filter(n=>{const x=n.up===!0||n.enable===!0,h=n.link_state==="up"||n.media==="GE"||n.media==="10GE",f=typeof n.speed=="number"&&n.speed>0;return x||h||f}).length;let g;const A=o.filter(n=>{const x=n.up===!0||n.enable===!0,h=n.link_state==="up"||n.media==="GE"||n.media==="10GE",f=typeof n.speed=="number"&&n.speed>0;return x||h||f});if(A.length>0){const n=A.map(x=>typeof x.speed=="number"&&x.speed>0?x.speed:typeof x.current_speed=="number"&&x.current_speed>0?x.current_speed:typeof x.link_speed=="number"&&x.link_speed>0?x.link_speed:0).filter(x=>x>0);n.length>0&&(g=Math.max(...n))}return{name:p,ip:t.ip,activePorts:b,totalPorts:d,speed:g}});const N=(Q=C.settings)==null?void 0:Q.url;if(N)try{K=new URL(N).hostname}catch{K=N}const w=l.system||{};E=w.version;const q=w.updateAvailable??w.update_available,U=w.updateDownloaded??w.update_downloaded;O=q===!0&&U!==!0}if(r==="freebox"&&l&&l.system){const s=l.system;G=s.firmware||s.firmware_version||s.version,P=s.playerFirmware||s.player_firmware||s.player_firmware_version||s.player_version,I=s.updateAvailable??s.update_available;const i=s.wifiNetworks||[];Array.isArray(i)&&i.length>0&&(F=i.filter(a=>!a.ssid||a.ssid.trim()===""?!1:!/^[0-9a-fA-F]{2}[:-]?([0-9a-fA-F]{2}[:-]?){4}[0-9a-fA-F]{2}$/.test(a.ssid)))}r==="freebox"&&F.length===0&&H&&H.length>0&&(F=H.filter(s=>s.ssid&&s.ssid.trim()!=="").map(s=>({ssid:s.ssid,band:s.band,enabled:s.active})));const Y=j?T(j.rate_down):"-- kb/s",J=j?T(j.rate_up):"-- kb/s",xe=()=>{switch(r){case"freebox":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"25 23.39 550 203.23",className:"h-6",children:e.jsx("path",{d:"m 187.24133,23.386327 c -14.98294,0.01847 -31.16732,4.917913 -41.74251,9.8272 l 0,-0.03081 c -17.70535,8.087262 -29.24956,16.441925 -37.86091,25.630825 -8.274459,8.82635 -13.79935,18.347312 -19.6236,28.9271 l -32.007722,0 c -0.927639,0 -1.76557,0.528637 -2.187247,1.355475 l -4.189654,8.194475 c -0.389391,0.763987 -0.354765,1.672163 0.09242,2.402888 0.447184,0.73072 1.268849,1.17064 2.125634,1.17064 l 30.313378,0 -56.930003,121.03787 c -0.434171,0.92135 -0.243567,2.03654 0.462094,2.77256 l 1.139832,1.17064 c 0.558802,0.58297 1.358434,0.86405 2.15644,0.73935 l 23.227934,-3.60434 c 0.772991,-0.11988 1.456644,-0.60023 1.81757,-1.29386 l 62.814004,-120.82222 39.95574,0 c 0.89584,0 1.71899,-0.48182 2.15644,-1.263065 l 4.55933,-8.194463 c 0.42512,-0.761537 0.41033,-1.682025 -0.0308,-2.4337 -0.44115,-0.752912 -1.2532,-1.23225 -2.12564,-1.23225 l -37.89172,0 11.58316,-23.844062 0.0308,-0.0308 c 2.64355,-5.680688 5.57101,-11.577 10.41252,-15.988463 2.42384,-2.211887 5.31224,-4.079988 8.99544,-5.421913 3.68196,-1.340687 8.17722,-2.155199 13.73959,-2.156437 3.99619,-0.0038 7.9776,0.940212 11.95284,1.9408 3.97524,0.988263 7.91475,2.054163 11.98364,2.064025 2.12317,0.0025 4.06766,-0.5422 5.69916,-1.386287 2.45711,-1.27415 4.25866,-3.180438 5.48352,-5.083038 0.61243,-0.956225 1.08562,-1.906287 1.41709,-2.834175 0.32901,-0.93405 0.51754,-1.834825 0.5237,-2.772562 0.002,-0.941438 -0.20331,-1.859475 -0.58531,-2.68015 -0.67527,-1.445425 -1.82004,-2.48545 -3.08062,-3.265463 -1.90753,-1.169412 -4.18351,-1.838525 -6.65417,-2.279662 -2.47066,-0.433763 -5.12,-0.6149 -7.73237,-0.616125 z M 390.68599,74.98684 c -28.09779,0.0099 -55.87396,8.808125 -76.76925,21.656812 -10.44703,6.432348 -19.18737,13.899788 -25.38437,21.872458 -6.1859,7.96527 -9.85062,16.49443 -9.858,25.07632 -0.002,3.65633 0.82683,7.3993 2.68013,10.87461 2.7775,5.22215 7.83219,9.8012 15.43395,13.00025 7.61039,3.20719 17.78878,5.0807 31.14515,5.08304 34.03231,0.004 62.25209,-11.37134 87.55144,-25.81567 0.75045,-0.42882 1.24581,-1.22991 1.26306,-2.09482 0.0185,-0.86405 -0.43745,-1.69768 -1.17063,-2.15644 l -5.32949,-3.32707 c -0.7258,-0.45495 -1.63643,-0.50537 -2.40289,-0.12323 -21.47691,10.70185 -43.58843,18.02881 -65.09368,18.02166 -8.69352,0.009 -16.19301,-1.32947 -21.25632,-3.66593 -2.53598,-1.16104 -4.45705,-2.54104 -5.66836,-4.03563 -1.20884,-1.50705 -1.77444,-3.0672 -1.78677,-4.95981 0.005,-4.40594 0.57297,-8.50763 2.24887,-12.7538 20.33528,-1.05164 47.90178,-3.83477 70.85443,-9.64238 11.76924,-2.98697 22.31238,-6.7441 30.12854,-11.61396 3.90624,-2.44109 7.16678,-5.1656 9.48834,-8.3177 2.32032,-3.139773 3.67334,-6.783535 3.66595,-10.689773 0.004,-1.733775 -0.40788,-3.384987 -1.17064,-4.836587 -1.34315,-2.555688 -3.61666,-4.438563 -6.31529,-5.9148 -4.06642,-2.2082 -9.2579,-3.567375 -14.87943,-4.436113 -5.6203,-0.8601 -11.65463,-1.200212 -17.37474,-1.201437 z m 144.57386,0 c -28.09655,0.0099 -55.83946,8.808125 -76.73844,21.656812 -10.44826,6.432348 -19.18615,13.899788 -25.38437,21.872458 -6.18714,7.96527 -9.88142,16.49443 -9.88881,25.07632 -0.002,3.65633 0.82684,7.3993 2.68015,10.87461 2.77749,5.22215 7.83341,9.8012 15.43394,13.00025 7.61038,3.20719 17.78877,5.0807 31.14515,5.08304 34.0434,0.004 62.2521,-11.37232 87.55143,-25.81567 0.75168,-0.42882 1.24458,-1.22978 1.26307,-2.09482 0.0172,-0.86344 -0.43868,-1.69681 -1.17064,-2.15644 l -5.32949,-3.32707 c -0.7258,-0.45434 -1.63642,-0.50537 -2.40289,-0.12323 -21.48922,10.70185 -43.60073,18.02881 -65.09366,18.02166 -8.69354,0.009 -16.19301,-1.32947 -21.25634,-3.66593 -2.53597,-1.16104 -4.42625,-2.54104 -5.63755,-4.03563 -1.20883,-1.50705 -1.80525,-3.0672 -1.81756,-4.95981 0.005,-4.4016 0.57826,-8.50277 2.24885,-12.7538 20.33739,-1.05066 47.89511,-3.83249 70.85444,-9.64238 11.768,-2.98697 22.31361,-6.7441 30.12855,-11.61396 3.905,-2.44109 7.16676,-5.1656 9.48832,-8.3177 2.3191,-3.139773 3.67458,-6.784773 3.66595,-10.689773 0.004,-1.733775 -0.40787,-3.384987 -1.17063,-4.836587 -1.34315,-2.55445 -3.61667,-4.438563 -6.31529,-5.9148 -4.0652,-2.2082 -9.26036,-3.567375 -14.87944,-4.436113 -5.61536,-0.8601 -11.66325,-1.200212 -17.37474,-1.201437 z m -311.79033,2.341275 c -5.07688,0.0061 -10.61832,1.282775 -16.29653,3.234662 -8.51116,2.933988 -17.33407,7.424313 -24.95309,11.891226 -7.62023,4.471837 -14.01438,8.903007 -17.68279,11.706387 -0.62845,0.47934 -0.97964,1.24334 -0.955,2.03321 0.0247,0.78988 0.42144,1.53045 1.07822,1.9716 l 4.95981,3.32708 c 0.81451,0.54712 1.88534,0.56191 2.71095,0.0308 2.97835,-1.91862 8.31646,-5.16067 14.10928,-7.88641 2.89456,-1.36288 5.90001,-2.60251 8.74898,-3.48111 2.84526,-0.882292 5.53404,-1.38998 7.73238,-1.38628 1.99255,0.0061 3.18166,0.553275 3.88158,1.139825 0.70732,0.586545 0.90817,1.264285 0.89338,1.478695 0.005,0.36968 -0.0936,1.1004 -0.33886,1.94081 -0.7184,2.55938 -2.54337,6.1933 -3.88159,8.37931 l -0.0308,0.0616 -29.97452,54.03421 c -0.19715,0.30807 -0.4436,0.68155 -0.67773,1.17064 -0.22797,0.48663 -0.45839,1.12259 -0.46209,1.9408 -0.001,0.53381 0.14664,1.02868 0.33886,1.41709 0.37338,0.73306 0.84164,1.16189 1.29386,1.5095 0.80098,0.58866 1.66232,0.96127 2.64935,1.32467 1.4713,0.53147 3.19523,0.95882 4.99062,1.26307 1.79416,0.30078 3.65855,0.49141 5.36028,0.4929 3.45278,-0.001 6.71332,-0.0447 9.33432,-0.27727 1.31727,-0.11977 2.4608,-0.28206 3.4811,-0.55451 0.51385,-0.13911 1.00675,-0.31816 1.50951,-0.58531 0.4892,-0.27245 1.06344,-0.64299 1.50951,-1.4171 l 0.0308,-0.0308 6.839,-12.53815 c 6.22878,-9.9283 16.02539,-24.27044 27.38678,-36.04336 5.6967,-5.90864 11.768,-11.15557 17.92925,-14.87943 6.16496,-3.73372 12.3755,-5.91974 18.32973,-5.91481 4.2981,-0.01 9.23327,0.7603 14.07848,0.77016 3.29627,0.002 6.14154,-0.69869 8.53334,-1.87919 3.59817,-1.76951 6.08855,-4.530985 7.63996,-7.301085 0.77755,-1.389975 1.3259,-2.77995 1.69434,-4.097237 0.36721,-1.3185 0.55328,-2.568 0.55451,-3.69675 0.004,-1.4368 -0.32531,-2.85635 -1.04741,-4.097238 -0.53727,-0.93035 -1.28278,-1.751025 -2.15644,-2.402887 -1.31728,-0.9784 -2.91428,-1.611788 -4.74416,-2.033213 -1.83237,-0.4202 -3.90132,-0.614887 -6.28449,-0.616125 -6.58638,0.01238 -13.6176,2.33635 -20.70181,5.822388 -10.61708,5.244462 -21.38695,13.213425 -30.52903,20.825047 -4.0492,3.37288 -7.707,6.61989 -10.93622,9.58075 l 8.00962,-14.910235 0.0308,-0.03081 c 1.1694,-2.220513 2.14165,-4.280838 2.86498,-6.16125 0.36105,-0.94145 0.68021,-1.859475 0.89339,-2.710963 0.21071,-0.85395 0.3364,-1.663537 0.33886,-2.4953 0.0111,-1.795387 -0.55204,-3.505762 -1.60193,-4.8674 -0.78001,-1.025225 -1.79292,-1.850837 -2.92658,-2.4953 -1.70544,-0.966087 -3.71155,-1.571125 -5.97643,-1.9716 -2.26364,-0.396787 -4.80085,-0.584087 -7.57834,-0.585325 z M 381.937,86.200327 c 4.66408,-0.0086 8.2068,0.818213 10.32011,2.0024 1.06343,0.589025 1.75966,1.23965 2.18724,1.879188 0.42636,0.6457 0.60996,1.284 0.61613,2.094825 -0.004,2.230375 -0.59148,4.240175 -1.72515,6.222875 -1.97407,3.458925 -5.78419,6.741635 -10.99784,9.580755 -7.80507,4.27345 -18.62794,7.57094 -30.31338,9.8272 -10.16586,1.96993 -20.99063,3.19288 -31.11435,3.72756 1.5237,-2.24361 3.57388,-4.80537 6.06884,-7.45513 6.01831,-6.41264 14.5455,-13.45371 24.18294,-18.822635 9.63866,-5.38 20.38142,-9.065662 30.77546,-9.057037 z m 144.57388,0 c 4.66406,-0.0086 8.21295,0.819438 10.3201,2.0024 1.05973,0.587788 1.76089,1.238413 2.18724,1.879188 0.4239,0.6457 0.60997,1.282775 0.61612,2.094825 -0.004,2.231612 -0.59024,4.240175 -1.72515,6.222875 -1.97282,3.458925 -5.78541,6.741635 -10.99784,9.580755 -7.80261,4.27345 -18.5996,7.57094 -30.28257,9.8272 -10.17496,1.97191 -21.01299,3.19371 -31.14514,3.72756 1.52363,-2.24361 3.57386,-4.80537 6.06883,-7.45513 6.01955,-6.41264 14.57507,-13.45371 24.21373,-18.822635 9.64114,-5.38 20.3457,-9.065662 30.74468,-9.057037 z",style:{fill:"#cd1e25",fillOpacity:1,fillRule:"nonzero",stroke:"none"}})});case"unifi":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5",children:e.jsx("path",{fill:"#1fb0ec",d:"M5.343 4.222h1.099v1.1H5.343zm7.438 14.435a7.2 7.2 0 0 1-3.51-.988a6.5 6.5 0 0 0 2.947 3.936l.66.364c5.052-.337 8.009-3.6 8.009-7.863v-.924c-1.201 3.918-3.995 5.66-8.106 5.475m-4.107-2.291V8.355H7.562v4.1H6.448V10h-1.11v1.1H4.225V5.042H3.113v9.063c0 4.508 3.3 7.9 8.888 7.9a6.82 6.82 0 0 1-3.327-5.639M7.562 4.772h1.112v1.1H7.562zM3.113 2h1.112v1.111H3.113zm2.231 5.805h1.1v1.1h-1.1zm1.111-1.649h1.1v1.1h-1.1zm-.006-3.045h1.113V4.21H6.449zm8.876 2.677v10.577a9 9 0 0 1-.164 1.7c2.671-.486 4.414-2.137 5.3-5.014l.431-1.407V2.012c-5.042 0-5.567 1.931-5.567 3.776"})});default:return e.jsx(le,{size:20,className:"text-gray-400"})}};return e.jsx(fe,{className:z,title:e.jsxs("div",{className:"flex items-center gap-2",children:[xe(),e.jsx("span",{children:C.name})]}),actions:e.jsxs("div",{className:"flex items-center gap-2",children:[r==="freebox"&&e.jsxs("button",{onClick:()=>{ce().catch(()=>{})},className:"text-xs text-gray-400 hover:text-gray-200 flex items-center gap-1 transition-colors px-2 py-1 rounded border border-gray-700/60 bg-[#1a1a1a] hover:bg-[#252525]",title:L?"Rafraîchir la session Freebox":"Se reconnecter à la Freebox",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1",style:{backgroundColor:L?"#22c55e":"#ef4444"}}),e.jsx("span",{children:"Auth"})]}),u&&e.jsxs("button",{onClick:u,className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1 transition-colors px-3 py-1.5 bg-blue-500/10 hover:bg-blue-500/20 rounded border border-blue-500/30",children:["Accéder",e.jsx(ve,{size:14})]})]}),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:B?e.jsx("div",{className:"flex items-center gap-1.5 text-green-400 text-xs"}):C.enabled?e.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-400 text-xs",children:[e.jsx(te,{size:14}),e.jsx("span",{children:"Configuration requise"})]}):e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 text-xs",children:[e.jsx(ge,{size:14}),e.jsx("span",{children:"Désactivé"})]})}),C.enabled&&!C.connectionStatus&&e.jsxs("div",{className:"bg-red-900/20 border border-red-700/60 rounded-lg p-2.5 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-300 text-xs font-medium",children:[e.jsx(te,{size:14}),e.jsx("span",{children:"Problème de connexion"})]}),e.jsx("p",{className:"text-[11px] text-red-400/80 pl-6",children:r==="unifi"?"Vérifiez l'URL, les identifiants et le nom du site dans la configuration.":r==="freebox"?"Vérifiez la connexion à l'API Freebox.":"Vérifiez la configuration du plugin."}),e.jsx("p",{className:"text-[10px] text-red-500/60 pl-6 italic",children:"Consultez les logs backend pour plus de détails."})]}),de&&B&&l?e.jsxs("div",{className:"space-y-3",children:[r!=="freebox"&&l.network&&(l.network.download>0||l.network.upload>0)&&e.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-3 space-y-2",children:[e.jsx("h4",{className:"text-xs text-gray-400",children:"Débit (plugin)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"↓"}),e.jsx("span",{className:"ml-1 text-blue-400 font-semibold",children:T(l.network.download||0)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"↑"}),e.jsx("span",{className:"ml-1 text-green-400 font-semibold",children:T(l.network.upload||0)})]})]})]}),r==="unifi"&&l.devices&&l.devices.length>0&&e.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 space-y-3 text-xs",children:[(()=>{const s=l==null?void 0:l.sites;return s&&s.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Sites UniFi"}),!y&&(E||O!==void 0)&&e.jsxs("div",{className:"flex items-center gap-2",children:[E&&e.jsxs("span",{className:"text-[10px] text-gray-500",children:["v",E]}),O&&e.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-amber-900/40 border border-amber-600 text-amber-300 text-[10px]",children:"Mise à jour dispo"})]})]}),e.jsx("div",{className:"space-y-3",children:s.map((i,a)=>e.jsxs("div",{className:"bg-unifi-card rounded-xl px-4 py-3 border border-gray-800 flex flex-col gap-2 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-semibold text-white truncate",children:i.name||i.id||"Site UniFi"})]}),e.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${i.status==="online"?"bg-emerald-400":"bg-gray-500"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-[11px]",children:[i.hostname&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Hostname: "}),e.jsx("span",{className:"text-gray-300",children:i.hostname})]}),i.devices&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Équipements: "}),e.jsx("span",{className:"text-gray-300 font-medium",children:i.devices.total??0})]})]}),i.devices&&e.jsxs("div",{className:"flex items-center justify-end gap-2 mt-1 pt-2 border-t border-gray-800",children:[i.devices.clients!==void 0&&e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-purple-500/20 border border-purple-500/50 text-purple-300 font-semibold text-[11px]",children:[i.devices.clients??0," Clients"]}),i.devices.aps!==void 0&&e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-cyan-500/20 border border-cyan-500/50 text-cyan-300 font-semibold text-[11px]",children:[i.devices.aps??0," APs"]}),i.devices.switches!==void 0&&e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-blue-500/20 border border-blue-500/50 text-blue-300 font-semibold text-[11px]",children:[i.devices.switches??0," Switches"]})]})]},i.id||a))})]}):null})(),!y&&(D>0||V>0)&&e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-800 text-[11px]",children:[e.jsx("span",{className:"text-gray-400",children:"Clients connectés"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-emerald-900/40 border border-emerald-700 text-emerald-300 font-semibold",children:V}),e.jsx("span",{className:"text-gray-500",children:"/"}),e.jsx("span",{className:"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-slate-900/60 border border-slate-700 text-gray-200 font-medium",children:D})]})]}),(!y||R)&&S.length>0&&e.jsxs("div",{className:"pt-2 border-t border-gray-800 space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("span",{className:"text-gray-400 font-medium text-[11px]",children:"Points d'accès"})}),e.jsx("div",{className:R?"grid grid-cols-2 gap-3":"space-y-2",children:S.map((s,i)=>e.jsxs("div",{className:"bg-unifi-card rounded-lg px-3 py-2 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-xs font-semibold text-white truncate",title:`Point d'accès: ${s.name}${s.ip?` (${s.ip})`:""}`,children:s.name}),s.ip&&e.jsx("span",{className:"text-[10px] text-gray-500",title:"Adresse IP du point d'accès",children:s.ip})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.bands.length>0&&e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:s.bands.map((a,m)=>e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-cyan-900/40 border border-cyan-700/50 text-cyan-300 whitespace-nowrap",title:`Bande de fréquence supportée: ${a}`,children:a},`dashboard-band-${m}`))}),s.channels.length>0&&e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:s.channels.map((a,m)=>s.bands.find(w=>w===a.band)?e.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-purple-900/40 border border-purple-700/50 text-purple-300 whitespace-nowrap",title:`Canal utilisé sur ${a.band}: Canal ${a.channel}`,children:[a.band==="2.4GHz"?"2.4":a.band==="5GHz"?"5":"6",":",a.channel]},`dashboard-channel-${m}`):null)})]}),s.ssids.length>0&&(()=>{const a=l.devices||[],m=a.filter(c=>c.type==="client"),N=a.find(c=>c.name===s.name||c.ip===s.ip),w=(N==null?void 0:N.mac)||"",q=m.filter(c=>{const o=c.last_uplink_name||c.uplink_name||"",d=c.last_uplink_mac||c.sw_mac||"";return o===s.name||w&&d.toLowerCase()===w.toLowerCase()}),U=new Map;q.forEach(c=>{if(c.active===!1)return;let o="";const d=(c.radio||c.band||"").toString().toLowerCase(),b=c.channel||c.ht;if(d)d.includes("ng")||d.includes("2.4")||d==="2g"?o="2.4GHz":d.includes("na")||d.includes("5")||d==="5g"?o="5GHz":(d.includes("6")||d==="6g")&&(o="6GHz");else if(b){const g=typeof b=="number"?b:parseInt(String(b));isNaN(g)||(g>=1&&g<=14?o="2.4GHz":g>=36&&g<=165?o="5GHz":g>165&&g<=233&&(o="6GHz"))}o&&U.set(o,(U.get(o)||0)+1)});const t=new Map;s.ssids.forEach(({ssid:c,band:o})=>{t.has(o)||t.set(o,[]);const d=t.get(o);d.includes(c)||d.push(c)});const p=["2.4GHz","5GHz","6GHz"];return e.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:p.map(c=>{const o=t.get(c)||[],d=U.get(c)||0;return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] text-gray-500 font-medium",title:`Bande de fréquence: ${c}`,children:c}),e.jsx("div",{className:"flex flex-wrap gap-1",children:o.length>0?o.map((b,g)=>e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-blue-900/40 border border-blue-700/50 text-blue-300 whitespace-nowrap",title:`Réseau Wi-Fi (SSID) transmis sur ${c}: ${b}`,children:b},`dashboard-ssid-${c}-${g}`)):e.jsx("span",{className:"text-[10px] text-gray-600",title:`Aucun réseau Wi-Fi configuré sur ${c}`,children:"--"})}),d>0&&e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-emerald-900/40 border border-emerald-700/50 text-emerald-300 font-semibold w-fit",title:`Nombre de clients connectés sur ${c}: ${d} client${d>1?"s":""} actif${d>1?"s":""}`,children:d})]},`ssid-group-${c}`)})})})()]})]},`dashboard-ap-${s.name}-${i}`))})]}),R&&(S.length>0||W.length>0)&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-stretch",children:[S.length>0&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("span",{className:"text-gray-400",children:"Bornes Wi‑Fi"})}),e.jsx("div",{className:"rounded border border-gray-800 overflow-hidden flex-1 flex flex-col",children:e.jsxs("table",{className:"w-full text-[11px] text-gray-300 table-fixed",children:[e.jsx("thead",{className:"bg-[#181818] text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"20%"},children:"Nom"}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"22%"},children:"IP"}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"18%"},children:"Bandes"}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"18%"},children:"Canal"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"11%"},children:"Clients"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"11%"},children:"Total"})]})}),e.jsx("tbody",{children:S.map((s,i)=>e.jsxs("tr",{className:`${i%2===0?"bg-[#101010]":"bg-[#141414]"} h-10`,children:[e.jsx("td",{className:"px-2 py-2 text-gray-200 truncate align-middle",children:s.name}),e.jsx("td",{className:"px-2 py-2 text-gray-400 whitespace-nowrap align-middle",children:s.ip||"n/a"}),e.jsx("td",{className:"px-2 py-2 align-middle",children:e.jsx("div",{className:"flex flex-wrap lg:flex-nowrap gap-1 items-center",children:s.bands.map((a,m)=>e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-cyan-900/40 border border-cyan-700/50 text-cyan-300 whitespace-nowrap",children:a},`band-${m}`))})}),e.jsx("td",{className:"px-2 py-2 align-middle",children:e.jsx("div",{className:"flex flex-wrap lg:flex-nowrap gap-1 items-center",children:s.channels.length>0?s.channels.map((a,m)=>s.bands.find(w=>w===a.band)?e.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-purple-900/40 border border-purple-700/50 text-purple-300 whitespace-nowrap",title:`${a.band}: Canal ${a.channel}`,children:[a.band==="2.4GHz"?"2.4":a.band==="5GHz"?"5":"6",":",a.channel]},`channel-${m}`):null):e.jsx("span",{className:"text-gray-500 text-[10px]",children:"--"})})}),e.jsx("td",{className:"px-2 py-2 text-right text-gray-200 align-middle",children:s.clientsActive}),e.jsx("td",{className:"px-2 py-2 text-right text-gray-200 align-middle",children:s.clientsTotal})]},`ap-${s.name}-${i}`))})]})})]}),W.length>0&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("span",{className:"text-gray-400",children:"Switches"})}),e.jsx("div",{className:"rounded border border-gray-800 overflow-hidden flex-1 flex flex-col",children:e.jsxs("table",{className:"w-full text-[11px] text-gray-300 table-fixed",children:[e.jsx("thead",{className:"bg-[#181818] text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"22%"},children:"Nom"}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"28%"},children:"IP"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"16%"},children:"Ports actifs"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"16%"},children:"Speed"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"18%"},children:"Total"})]})}),e.jsx("tbody",{children:W.map((s,i)=>e.jsxs("tr",{className:`${i%2===0?"bg-[#101010]":"bg-[#141414]"} h-10`,children:[e.jsx("td",{className:"px-2 py-2 text-gray-200 truncate align-middle",children:s.name}),e.jsx("td",{className:"px-2 py-2 text-gray-400 whitespace-nowrap align-middle",children:s.ip||"n/a"}),e.jsx("td",{className:"px-2 py-2 text-right text-emerald-300 align-middle",children:s.totalPorts>0?s.activePorts:"-"}),e.jsx("td",{className:"px-2 py-2 text-right text-gray-300 align-middle",children:s.speed?`${s.speed}`:"-"}),e.jsx("td",{className:"px-2 py-2 text-right text-gray-200 align-middle",children:s.totalPorts>0?s.totalPorts:"-"})]},`sw-${s.name}-${i}`))})]})})]})]})]}),r==="freebox"&&(G||P||I||(j==null?void 0:j.ipv4)||l.system&&(l.system.dhcp||l.system.portForwarding||F.length>0))&&e.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-3 space-y-2 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-gray-400 text-[10px]",children:"Freebox"})}),G||P?e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Firmware"})}):e.jsx("div",{}),(()=>{let s;if(l!=null&&l.devices&&Array.isArray(l.devices)){const i=l.devices.map(a=>{var m,N;return a.ip||((N=(m=a.l3connectivities)==null?void 0:m[0])==null?void 0:N.addr)}).filter(a=>a&&typeof a=="string"&&/^\d+\.\d+\.\d+\.\d+$/.test(a));if(i.length>0){const m=i[0].split(".");m.length===4&&(s=`${m[0]}.${m[1]}.${m[2]}`)}}return s?e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Réseau LAN"})}):e.jsx("div",{})})(),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[I&&e.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-amber-900/40 border border-amber-600 text-amber-300 text-[10px]",children:"Mise à jour dispo"}),j&&j.ipv4&&e.jsx("div",{className:"flex flex-col items-end",children:e.jsx("span",{className:"text-[10px] text-gray-400",children:"IP Public"})})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"Freebox"})}),G||P?e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex items-center gap-2",children:[G&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-100",children:[e.jsx("span",{className:"text-[11px] text-gray-400",children:"Box"}),e.jsxs("span",{className:"font-semibold",children:["v",G]})]}),P&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-100",children:[e.jsx("span",{className:"text-[11px] text-gray-400",children:"Player"}),e.jsxs("span",{className:"font-semibold",children:["v",P]})]})]})}):e.jsx("div",{}),(()=>{let s;if(l!=null&&l.devices&&Array.isArray(l.devices)){const i=l.devices.map(a=>{var m,N;return a.ip||((N=(m=a.l3connectivities)==null?void 0:m[0])==null?void 0:N.addr)}).filter(a=>a&&typeof a=="string"&&/^\d+\.\d+\.\d+\.\d+$/.test(a));if(i.length>0){const m=i[0].split(".");m.length===4&&(s=`${m[0]}.${m[1]}.${m[2]}`)}}return s?e.jsx("div",{className:"flex flex-col",children:e.jsxs("span",{className:"text-xs font-mono text-gray-300 font-semibold",children:[s,".x"]})}):e.jsx("div",{})})(),e.jsx("div",{className:"flex items-center justify-end gap-2",children:j&&j.ipv4&&e.jsx("div",{className:"flex flex-col items-end",children:e.jsx("span",{className:"text-sky-300 font-medium text-xs",children:j.ipv4})})})]})]}),B&&l.system&&(l.system.dhcp||l.system.portForwarding||F.length>0)&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1 border-t border-gray-800 mt-1 text-[11px]",children:[B&&l.system&&(l.system.dhcp||F.length>0)&&e.jsx("div",{className:"flex flex-col gap-1",children:l.system.dhcp&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"DHCP"}),e.jsx("span",{className:l.system.dhcp.enabled?"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-emerald-900/40 border border-emerald-700 text-emerald-300 font-semibold":"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-red-900/40 border border-red-700 text-red-300 font-semibold",children:l.system.dhcp.enabled?"Actif":"Désactivé"})]}),(l.system.dhcp.activeLeases!=null||l.system.dhcp.totalConfigured!=null)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Actifs"}),e.jsx("span",{className:"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-emerald-900/40 border border-emerald-700 text-emerald-300 font-semibold",children:l.system.dhcp.activeLeases??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{className:"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-slate-900/60 border border-slate-700 text-gray-200 font-medium",children:l.system.dhcp.totalConfigured??0})]})]})]})}),B&&l.system&&l.system.portForwarding&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"text-gray-400",children:"NAT"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Actives"}),e.jsx("span",{className:"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-emerald-900/40 border border-emerald-700 text-emerald-300 font-semibold",children:l.system.portForwarding.enabledRules??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{className:"inline-flex items-center justify-end min-w-[2.75rem] px-2 py-0.5 rounded-full bg-slate-900/60 border border-slate-700 text-gray-200 font-medium",children:l.system.portForwarding.totalRules??0})]})]})]})]}),r==="freebox"&&j&&M&&M.length>0&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{data:M,dataKey:"download",color:"#3b82f6",title:"Descendant en temps réel",currentValue:Y.split(" ")[0],unit:Y.split(" ")[1]||"kb/s",trend:"down"}),e.jsx(ee,{data:M,dataKey:"upload",color:"#10b981",title:"Montant en temps réel",currentValue:J.split(" ")[0],unit:J.split(" ")[1]||"kb/s",trend:"up"})]})}),r==="freebox"&&j&&e.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-3 space-y-3 text-xs",children:[e.jsx("div",{className:"text-gray-400 text-[11px] uppercase tracking-wide mb-2",children:"État système"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[k&&(()=>{const s=we(k),i=ne(s),a=i!=null?se(i):"--";return a!=="--"?e.jsx($,{icon:e.jsx(ye,{size:14}),value:a,color:"text-emerald-400"}):null})(),k&&(()=>{const s=_e(k),i=ne(s),a=i!=null?se(i):"--";return a!=="--"?e.jsx($,{icon:e.jsx(be,{size:14}),value:a,color:"text-blue-400"}):null})(),k&&(()=>{const s=ze(k),i=Ce(s),a=i!=null?`${i} T/min`:"--";return a!=="--"?e.jsx($,{icon:e.jsx(je,{size:14}),value:a,color:"text-orange-400"}):null})(),e.jsx($,{icon:e.jsx(ae,{size:14}),value:"OK",color:"text-green-400"}),e.jsx($,{icon:e.jsx(Ne,{size:14}),value:"OK",color:"text-green-400"}),e.jsx($,{icon:e.jsx(le,{size:14}),value:j.state==="up"?"UP":"DOWN",color:j.state==="up"?"text-green-400":"text-red-400"}),e.jsx($,{icon:e.jsx(ae,{size:14}),value:L?"Session OK":"Session expirée",color:L?"text-emerald-400":"text-red-400"})]}),H&&H.length>0&&e.jsxs("div",{className:"mt-2 border-t border-gray-800 pt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[11px] text-gray-400 font-medium",children:"Bornes Wi‑Fi Freebox"}),e.jsxs("span",{className:"text-[11px] text-gray-500",children:[H.length," point",H.length>1?"s":""," d'accès"]})]}),e.jsx("div",{className:"space-y-1.5",children:H.map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between px-2 py-1 rounded border border-gray-800 bg-[#111111]",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${s.active?"bg-emerald-400":"bg-gray-500"}`}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-200 truncate",children:s.ssid}),e.jsxs("span",{className:"text-[10px] text-gray-500",children:[s.band," • Canal ",s.channel||"n/a"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-0.5 ml-2",children:[e.jsxs("span",{className:"text-[10px] text-emerald-400 font-medium",children:[s.connectedDevices," appareils"]}),e.jsxs("span",{className:"text-[10px] text-gray-500",children:["Charge ",Math.round(s.load),"%"]})]})]},`freebox-ap-${s.id}-${i}`))})]})]}),l.system&&l.system.temperature&&e.jsx("div",{className:"bg-[#1a1a1a] rounded-lg p-3 space-y-1",children:e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Température"}),e.jsxs("span",{className:"text-gray-300",children:[l.system.temperature,"°C"]})]})})]}):e.jsx("div",{className:"text-center py-4 text-gray-500 text-xs",children:C.enabled?e.jsx("p",{children:"Configuration requise pour voir les stats"}):e.jsx("p",{children:"Activez le plugin pour voir les stats"})})]}),((Z=l==null?void 0:l.system)==null?void 0:Z.uptime)&&e.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-800 flex items-center justify-between text-[11px] text-gray-400",children:[e.jsx("span",{children:"Uptime"}),e.jsx("span",{className:"text-gray-300 font-medium",children:(()=>{const s=l.system.uptime,i=Math.floor(s/3600),a=Math.floor(i/24);if(a>0){const m=i%24;return m>0?`${a}j ${m}h`:`${a}j`}return`${i}h`})()})]})]})})};export{ke as P};
